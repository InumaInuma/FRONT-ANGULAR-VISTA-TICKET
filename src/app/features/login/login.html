<div class="heartbeat-icon">
    â¤ï¸ğŸ©º
</div>
<div class="login-wrapper">
     <!-- ============================================
         ğŸ“ FORMULARIO DE LOGIN NORMAL
         ============================================ -->
    <div class="login-card">
        <!-- Imagen al costado -->
        <div class="login-image">
            <img src="assets/imagen.png" alt="Angular logo" />
        </div>

        <!-- Formulario -->
        <div class="login-form">
            <h2>Bienvenidos ğŸ‘‹</h2>
            <p>Ingresa tu nÃºmero de DNI para continuar</p>

            <!-- ğŸ”‹ ALERTA DE BATERÃA BAJA -->
            <div *ngIf="showBatteryAlert" class="battery-alert">
                <div class="battery-alert-header">
                    <span class="battery-icon">ğŸ”‹âš ï¸</span>
                    <h3>BaterÃ­a Insuficiente</h3>
                </div>
                
                <div class="battery-level-display">
                    <span class="battery-percentage">{{ batteryLevel }}%</span>
                    <span class="battery-status" *ngIf="isCharging">ğŸ”Œ Cargando</span>
                </div>

                <div class="battery-message">
                    <p><strong>Tu dispositivo tiene menos del 50% de baterÃ­a.</strong></p>
                    <p>Para evitar interrupciones durante el proceso de tus examenes medicos:</p>
                </div>

                <div class="battery-instructions">
                    <div class="instruction-item">
                        <span class="instruction-icon">ğŸ“‹</span>
                        <span class="instruction-text">
                            <strong>Solicita tu ticket en fÃ­sico</strong> en el Ã¡rea de recepciÃ³n
                        </span>
                    </div>
                    <div class="instruction-item">
                        <span class="instruction-icon">ğŸ”Œ</span>
                        <span class="instruction-text">
                            O <strong>carga tu dispositivo</strong> e intenta nuevamente
                        </span>
                    </div>
                </div>

                <button 
                    type="button" 
                    class="btn-recheck"
                    (click)="recheckBattery()"
                    [disabled]="loading"
                >
                    {{ loading ? 'Verificando...' : 'ğŸ”„ Verificar baterÃ­a nuevamente' }}
                </button>
            </div>

            <form (ngSubmit)="onLogin()" *ngIf="!showBatteryAlert">
                <div class="form-group">
                    <label for="dni">DNI</label>
                    <input type="text" id="dni" [(ngModel)]="dni" name="dni" placeholder="Ej. 72544454" required />
                </div>

                <button type="submit" [disabled]="loading">
                    {{ loading ? 'Verificando...' : 'Ingresar' }}
                </button>

                  <!-- Indicador de baterÃ­a pequeÃ±o -->
                <div class="battery-indicator-small">
                    <span class="battery-mini-icon" [class.low]="batteryLevel < 30">ğŸ”‹</span>
                    <span class="battery-mini-text">{{ batteryLevel }}%</span>
                    <span class="charging-mini" *ngIf="isCharging">ğŸ”Œ</span>
                </div>
            </form>

            <div *ngIf="errorMessage && !showBatteryAlert" class="error-message">
                {{ errorMessage }}
            </div>
        </div>
    </div>
</div>
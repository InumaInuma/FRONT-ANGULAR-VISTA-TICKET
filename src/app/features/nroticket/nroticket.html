<div class="ticket-container">
  <!-- ============================================
       HEADER CON LOGO Y TÃTULO
       ============================================ -->
  <div class="ticket-header">
    <div class="logo-section">
      <div class="logo-icon">ğŸ¥</div>
      <div class="clinic-info">
        <h1>MEDCORP</h1>
        <p>Centro de Salud Ocupacional</p>
      </div>
    </div>
  </div>
  <!-- ============================================
       TICKET PRINCIPAL npm install firebase
       ============================================ -->
  <div class="ticket-card" *ngIf="!errorMsg">

    <div class="recepcion-status" *ngIf="recepcion">
      <div class="recepcion-title">
        <span class="rec-icon">ğŸ›ï¸</span>
        <span class="rec-text">{{ recepcion.nomSer || 'RecepciÃ³n' }}</span>
      </div>
      <div class="recepcion-pill" [ngClass]="getEstadoClass(recepcion.estado)">
        {{ getEstadoNombre(recepcion.estado) }}
      </div>
    </div>
    <!-- Badge de confirmaciÃ³n -->
    <div class="confirmation-badge">
      <div class="badge-icon">âœ…</div>
      <div class="badge-text">Ticket Generado</div>
    </div>

    <!-- NÃºmero de Ticket GRANDE -->
    <div class="ticket-number-section">
      <div class="ticket-label">Tu NÃºmero de Ticket</div>
      <div class="ticket-number">
        {{ NroTic || '---' }}
      </div>
      <div class="ticket-sublabel">Guarda este nÃºmero</div>
    </div>

    <!-- Separador decorativo -->
    <div class="ticket-divider">
      <div class="divider-circle left"></div>
      <div class="divider-line"></div>
      <div class="divider-circle right"></div>
    </div>

    <!-- InformaciÃ³n del paciente -->
    <div class="patient-info-section">
      <div class="info-icon">ğŸ‘¤</div>
      <div class="info-content">
        <div class="info-label">Paciente</div>
        <div class="info-value">{{ NomPer || 'Sin nombre' }}</div>
      </div>
    </div>
    <!-- InformaciÃ³n del paciente -->
    <div class="patient-info-section">
      <div class="info-icon">ğŸ‘¤</div>
      <div class="info-content">
        <div class="info-label">Tipo chequeo</div>
        <div class="info-value">{{ DesTCh || 'Sin nombre' }}</div>
      </div>
    </div>
    <!-- InformaciÃ³n del paciente -->
    <div class="patient-info-section">
      <div class="info-icon">ğŸ‘¤</div>
      <div class="info-content">
        <div class="info-label">Empresa</div>
        <div class="info-value">{{ NomCom || 'Sin nombre' }}</div>
      </div>
    </div>

    <!-- Fecha y hora -->
    <div class="datetime-section">
      <div class="datetime-item">
        <div class="datetime-icon">ğŸ“…</div>
        <div class="datetime-content">
          <div class="datetime-label">Fecha</div>
          <div class="datetime-value">{{ currentDate | date:'dd/MM/yyyy' }}</div>
        </div>
      </div>
      <div class="datetime-item">
        <div class="datetime-icon">ğŸ•</div>
        <div class="datetime-content">
          <div class="datetime-label">Hora</div>
          <div class="datetime-value">{{ currentDate | date:'HH:mm' }}</div>
        </div>
      </div>
    </div>

    <!-- Instrucciones -->
    <div class="instructions-section">
      <div class="instructions-header">
        <span class="instructions-icon">â„¹ï¸</span>
        <span class="instructions-title">Instrucciones</span>
      </div>
      <ul class="instructions-list">
        <li>
          <span class="list-icon">1ï¸âƒ£</span>
          <span>DirÃ­gete al Ã¡rea de <strong>recepciÃ³n</strong></span>
        </li>
        <li>
          <span class="list-icon">2ï¸âƒ£</span>
          <span>Presenta tu <strong>nÃºmero de ticket</strong></span>
        </li>
        <li>
          <span class="list-icon">3ï¸âƒ£</span>
          <span>Espera a ser llamado para tu atenciÃ³n</span>
        </li>
      </ul>
    </div>



    <!-- Footer del ticket -->
    <div class="ticket-footer">
      <p class="footer-text">
        Conserva este ticket hasta completar tu atenciÃ³n
      </p>
      <p class="footer-contact">
        ğŸ“ (01) 209 - 9470 | ğŸ“§ info@medcorp.pe
      </p>
    </div>

    <!-- BotÃ³n de acciÃ³n -->
    <div class="action-buttons">
      <!-- BotÃ³n para ir a consent SOLO cuando RecepciÃ³n llame -->
      <button class="btn-primary pulse" *ngIf="isRecepcionLlamando" (click)="goToConsent()">
        âœï¸ Â¿Llegaste a recepciÃ³n? <strong>Firma tus declaraciones</strong>
      </button>
      <button class="btn-secondary" (click)="shareTicket()">
        ğŸ“¤ Compartir
      </button>
    </div>
  </div>

  <!-- ============================================
       ERROR MESSAGE
       ============================================ -->
  <div class="error-card" *ngIf="errorMsg">
    <div class="error-icon">âš ï¸</div>
    <div class="error-title">Error al Generar Ticket</div>
    <div class="error-message">{{ errorMsg }}</div>
    <button class="btn-retry" (click)="ngOnInit()">
      ğŸ”„ Intentar Nuevamente
    </button>
  </div>

  <!-- ============================================
       INFORMACIÃ“N ADICIONAL
       ============================================ -->
  <div class="info-cards" *ngIf="!errorMsg">
    <div class="info-card">
      <div class="card-icon">â±ï¸</div>
      <div class="card-content">
        <div class="card-title">Tiempo de espera</div>
        <div class="card-description">Aproximadamente 15-20 minutos</div>
      </div>
    </div>

    <div class="info-card">
      <div class="card-icon">ğŸ“</div>
      <div class="card-content">
        <div class="card-title">UbicaciÃ³n</div>
        <div class="card-description">Av. Petit Thouars NÂ° 1542, Lince</div>
      </div>
    </div>
  </div>
</div>